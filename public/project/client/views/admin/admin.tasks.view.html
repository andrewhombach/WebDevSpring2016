<div class="hidden-xs" ng-include="'views/sidebar/sidebar.view.html'"></div>
<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main" ng-controller="AdminTasksController">
    <h1 class="page-header">Tasks
        <div align="right" class="input-group">
            <button ng-click="model.changePicker()" class="btn btn-info">
                See All or User
            </button>
        </div>
    </h1>

    <ul class="nav nav-tabs">
        <li role="presentation"><a href="#/admin/projects">Projects</a></li>
        <li role="presentation"><a href="#/admin/users">Users</a></li>
        <li role="presentation" class="active"><a href="#/admin/tasks">Tasks</a></li>
        <li role="presentation"><a href="#/admin/dm">Direct Messages</a></li>
        <li role="presentation"><a href="#/admin/message">Messages</a></li>
    </ul>
    <br>

    <table class="table table-striped table-responsive">
        <thead>
        <tr>
            <th>
                <span class="caret"></span>
                Task Name
            </th>
            <th>
                <span class="caret"></span>
                Task Id
            </th>
            <th>
                <span class="caret"></span>
                Date Created
            </th>
            <th>
                <span class="caret"></span>
                Date Due
            </th>
            <th>
                <span class="caret"></span>
                Users
            </th>
            <th>
                <span class="caret"></span>
                Project
            </th>
            <th>
                <span class="caret"></span>
                Notes
            </th>
            <th>
                <span class="caret"></span>
                Status
            </th>
            <th>
                <span class="caret"></span>
                Location
            </th>
            <th width="100px">
            </th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>
                <input ng-model="model.task.name" type="text" class="form-control" placeholder="title">
            </td>
            <td>
                <input ng-model="model.task._id" type="text" class="form-control" placeholder="id">
            </td>
            <td>
                <input ng-model="model.task.createDate" type="date" class="form-control" placeholder="Date Created">
            </td>
            <td>
                <input ng-model="model.task.dueDate" type="date" class="form-control" placeholder="Date Due">
            </td>
            <td>
                <input ng-model="model.task.userIds" type="text" class="form-control" placeholder="Comma seperated UserIds">
            </td>
            <td>
                <input ng-model="model.task.projectId" type="text" class="form-control" placeholder="Project Id">
            </td>
            <td>
                <input ng-model="model.task.notes" type="text" class="form-control" placeholder="Notes">
            </td>
            <td>
                <input ng-model="model.task.status" type="text" class="form-control" placeholder="Status">
            </td>
            <td>
                <input ng-model="model.task.location" type="text" class="form-control" placeholder="Location">
            </td>
            <td>

                <div class="input-group">
                    <button ng-click="model.addTask(model.task)" class="btn btn-success">
                        <span class="glyphicon glyphicon-plus"></span>
                    </button>
                    <button ng-click="model.updateTask(model.task)" class="btn btn-info">
                        <span class="glyphicon glyphicon-ok"></span>
                    </button>
                </div>
            </td>
        </tr>
        <tr ng-repeat="task in model.tasks track by $index">
            <td>
                {{task.name}}
            </td>
            <td>
                <p class="text-right">{{task._id}}</p>
            </td>
            <td>
                {{task.createDate}}
            </td>
            <td>
                {{task.dueDate}}
            </td>
            <td>
                <p class="text-right">{{task.userIds.toString()}}</p>
            </td>
            <td>
                <p class="text-right">{{task.projectId}}</p>
            </td>
            <td>
                {{task.notes}}
            </td>
            <td>
                {{task.status}}
            </td>
            <td>
                {{task.location}}
            </td>
            <td width="100px">
                <div class="input-group">
                    <button ng-click="model.deleteTask(task)" class="btn btn-danger">
                        <span class="glyphicon glyphicon-remove"></span>
                    </button>
                    <button ng-click="model.selectTask($index)" class="btn btn-warning">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </button>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>
